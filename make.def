
# Cross compiler config

# set the top level root
CUR_ROOT := $(shell pwd)

OS		 := linux
#OS		 := win32

PROC	 := i386
#PROC	 := arm

TOOLS	 := debian
#TOOLS	 := android
#TOOLS	 := snapgear

CODEROOT := ../../../..
LIBROOT  := ../..

#CDEBUG	 := -g -DDEBUG -D_DEBUG
#LDEBUG	 := -g -rdynamic
CDEBUG	 := -s
LDEBUG	 := -s

UNICODE	 := -DUNICODE -D_UNICODE

ifeq ($(OS),win32)

	PLATFORM := windows

else

	PLATFORM := posix

	# Arm compiler
	ifeq ($(PROC),arm)

		ifeq ($(TOOLS),snapgear)

			# Snapgear
			PREFIX := $(CODEROOT)/arm/usr/local/bin/arm-linux-

			LFLAGS := $(LDEBUG) -static -lrt -pthread
			CFLAGS := -c $(CDEBUG) $(UNICODE) -DOEX_ARM -DOEX_LOWRAM -DOEX_SNAPGEAR 
			SFLAGS := $(CFLAGS) -S -MMD
			AFLAGS := cq
			
		else

			# Google Android
			PREFIX := $(CODEROOT)/../CodeSourcery/Sourcery_G++_Lite/bin/arm-none-linux-gnueabi-

			LFLAGS := $(LDEBUG) -static -lrt -pthread 
			CFLAGS := -c $(CDEBUG) $(UNICODE) -DOEX_ARM -DOEX_LOWRAM
			SFLAGS := $(CFLAGS) -S -MMD
			AFLAGS := cq
			
		endif

	else

		# Local platform
		PREFIX :=

		LFLAGS := $(LDEBUG) -lrt -pthread -luuid
		CFLAGS := -c $(CDEBUG) $(UNICODE)
		SFLAGS := $(CFLAGS) -S -MMD
		AFLAGS := cq

	endif

endif

CC := $(PREFIX)g++
LD := $(PREFIX)g++
AR := $(PREFIX)ar
DP := $(PREFIX)makedepend

BUILD_TYPE := $(PLATFORM)-$(OS)-$(PROC)-$(TOOLS)



